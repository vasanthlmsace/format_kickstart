{"version":3,"file":"formatkickstart.min.js","sources":["../src/formatkickstart.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Defines Kicstart javascript.\n * @module   format_kickstart/formatkickstart\n * @category  Classes - autoloading\n * @copyright 2021, bdecent gmbh bdecent.de\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n define(['core/loadingicon'], function(Loadingicon) {\n\n    /**\n     * Controls kicstart javascript.\n    */\n    var Formatkickstart = function() {\n        var buttonelement = document.querySelectorAll(\"#modal-footer .buttons\")[0];\n        if (buttonelement) {\n            buttonelement.insertAdjacentHTML(\"beforebegin\", \"<span id='load-action'></span>\");\n        }\n        document.querySelectorAll(this.confirmform)[0].addEventListener(\"submit\", this.importInstrctions.bind(this));\n    };\n\n    Formatkickstart.prototype.confirmform = \".buttons .singlebutton form\";\n\n    Formatkickstart.prototype.confirmbutton = \".buttons .singlebutton form button\";\n\n    Formatkickstart.prototype.loadiconElement = \"#modal-footer span#load-action\";\n\n    Formatkickstart.prototype.importInstrctions = function() {\n        if (this.confirmbutton) {\n            var buttons = document.querySelectorAll(this.confirmbutton);\n            for (let $i in buttons) {\n                buttons[$i].disabled = true;\n            }\n            Loadingicon.addIconToContainer(this.loadiconElement);\n        }\n    };\n\n    return {\n        init: function() {\n            return new Formatkickstart();\n        }\n    };\n});"],"names":["define","Loadingicon","Formatkickstart","buttonelement","document","querySelectorAll","insertAdjacentHTML","this","confirmform","addEventListener","importInstrctions","bind","prototype","confirmbutton","loadiconElement","buttons","$i","disabled","addIconToContainer","init"],"mappings":";;;;;;;AAsBCA,0CAAO,CAAC,qBAAqB,SAASC,iBAK/BC,gBAAkB,eACdC,cAAgBC,SAASC,iBAAiB,0BAA0B,GACpEF,eACAA,cAAcG,mBAAmB,cAAe,kCAEpDF,SAASC,iBAAiBE,KAAKC,aAAa,GAAGC,iBAAiB,SAAUF,KAAKG,kBAAkBC,KAAKJ,eAG1GL,gBAAgBU,UAAUJ,YAAc,8BAExCN,gBAAgBU,UAAUC,cAAgB,qCAE1CX,gBAAgBU,UAAUE,gBAAkB,iCAE5CZ,gBAAgBU,UAAUF,kBAAoB,cACtCH,KAAKM,cAAe,KAChBE,QAAUX,SAASC,iBAAiBE,KAAKM,mBACxC,IAAIG,MAAMD,QACXA,QAAQC,IAAIC,UAAW,EAE3BhB,YAAYiB,mBAAmBX,KAAKO,mBAIrC,CACHK,KAAM,kBACK,IAAIjB"}